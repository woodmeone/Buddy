自媒体智能选题辅助系统需求 PRD 文档（含技术实现方案）
一、项目背景
本项目旨在构建一个全自动化的自媒体情报与选题中台。系统通过自动抓取指定的技术 / 热点数据源（如 GitHub Trending、B 站大 V、实时热榜），结合创作者的账号人设进行 AI 智能筛选与总结，不仅解决 “写什么” 的问题，更提供 “为什么写这个” 的决策依据以及 “怎么写” 的脚本落地支持。
二、场景模拟
本章节模拟核心用户 “Alex”（技术博主）的日常使用流程，以验证需求逻辑的闭环。
场景：周一早晨的选题会
步骤 1：情报速览 (Morning Check)
•操作：Alex 打开系统首页的 “情报大盘”。
•系统反馈：
◦界面自动刷新了24小时前到现在的数据。
◦GitHub 板块显示了一个名为 Auto-GPT-Next 的库突然 Star 数飙升。
◦B 站板块显示竞品 “老王编程” 昨晚发的《Python 摸鱼神器》播放量破 10 万。
◦热榜板块显示 “程序员 35 岁危机” 登上了知乎热榜 Top3。
步骤 2：AI 智能筛选 (AI Filtering)
•操作：Alex 觉得信息有点杂，点击 “AI 帮我挑” 按钮。
•系统后台：异步触发任务，加载 Alex 的人设配置，过滤不相关内容。
•系统反馈：
◦AI基于当前账号人设，以及现有的热点信息数据，领域等数据。
◦推荐卡片 1：Auto-GPT-Next。包含：
▪AI 推荐语：“这个库只需 3 行代码就能跑通，非常适合做‘小白也能用的 AI 工具’展示，符合你‘带粉丝玩黑科技’的人设。”
▪ AI 总结。
◦推荐卡片 2：Python 摸鱼神器。包含：
▪AI 推荐语：“竞品爆款，但评论区很多人说安装难，你可以做一个‘保姆级教程’进行截流。” 
▪ AI 总结。
步骤 3：深度决策 (Deep Dive)
•操作：Alex 对卡片 1 感兴趣，点击进入选题详情页。
•系统反馈：展示该 GitHub 库的中文简介、安装难度评估、原链接、以及该选题针对的需求和热点，若信息有爬取到标签则同步显示热点标签 #AI 工具，#Python 自动化（缓存热点标签，秒级响应）。
步骤 4：生成脚本 (Script Generation)
•操作：Alex 决定做这个选题，点击 “生成口播稿”，选择模板 “3 分钟快节奏踩点版”。
•系统反馈：5 秒后，右侧生成 Markdown 格式脚本（这个用户可以自定义生成的脚本的格式）
◦0-5s 画面：黑客帝国代码雨 口播：“兄弟们，还在手动回邮件？这个 GitHub 新库炸了...”
◦15-30s 画面：录屏演示 口播：“看好了，输入这行命令，回车...”
步骤 5：协同流转 (Collaboration)
•操作：Alex 觉得脚本 80% 可用，勾选该选题，点击 “推送到飞书”。
•系统反馈：选题标题、链接、AI 总结、初稿脚本自动写入多维表格（后端对接飞书 Webhook，接口适配性强），手机收到飞书通知：“新选题已就绪”。
三、项目周期规划 
为兼顾 “快速可用” 与 “未来扩展”，项目划分为两个阶段，核心技术栈保持一致，仅在部分模块做阶段化升级。
第一阶段：MVP 核心功能版 (Current Scope)
目标：跑通核心链路，服务于 ** 发起人（您）** 的个人工作流，不考虑多用户、复杂权限和商业化界面。

模块	功能点	说明	技术选型适配
数据源	定点抓取	支持 GitHub、B 站（指定 UID）、知乎热榜（技术区）、指定 RSS，需要留后续开发空间（比如留有增加减少信息源的数据操作）	后端：Python + FastAPI（异步抓取）；存储：SQLite（轻量化单机部署）
AI 内核	单一人设	存储一套 System Prompt，AI 分析逻辑固化，但需要留后续开发空间（自定义人设的prompt表单）	集成 OpenAI/DeepSeek API；异步处理 AI 任务
交互	基础 Dashboard	简单列表页 + 详情页，无登录系统（默认单机运行）	前端：Vue3 + Tailwind（快速搭建，清晰，好看，简洁）
生成	基础模板	提供 “通用口播”“通用大纲” 两种固定模板（口播可以在设置里自定义模板）	基于 SQLModel 定义数据结构（类型安全）
协同	飞书单向推送	点击按钮推送数据到飞书 Webhook / 多维表格	FastAPI 原生支持 HTTP 请求，对接飞书接口
部署	本地 / 简易部署	运行于本地电脑或轻量云服务器	适配 SQLite，无需复杂部署环境
第二阶段：SaaS 产品化版 (Future Expansion)
目标：转化为产品，支持多用户自定义配置，具备商业化潜力。

模块	功能点	说明	技术选型适配
用户系统	多租户 / 登录	支持微信 / 飞书扫码登录，独立数据空间	身份认证：NextAuth.js/Clerk；前端：Next.js + Shadcn/UI（SEO 友好）
数据源	全网自定义	支持任意 URL 解析，“订阅市场”（一键订阅榜单）	后端：FastAPI（RESTful 标准接口）；存储：PostgreSQL（适配非结构化数据）
AI 内核	多维人设矩阵	多分身配置，Prompt 调试广场	Redis 缓存热点 Prompt；AI 编程工具辅助开发
生成	可视化编辑器	Notion 式富文本编辑，拖拽调整脚本，内置爆款标题库	前端：Shadcn/UI + Tailwind CSS（高颜值可定制）
商业化	会员 / 计费	按 Token 用量或高级功能收费	其他方面的支付API接口
性能优化	高并发支持	适配百万级数据存储与查询，热点数据快速响应	PostgreSQL（索引优化）；Redis（热点数据缓存）
四、需求拆解（按 MVP 功能模块划分）
（注：以下需求针对一期 MVP 详细描述，二期功能在对应模块基础上扩展）
4.1 应用入口与基础交互模块
•访问方式：网页端（Web）管理后台。
•界面布局：
◦情报大盘（Dashboard）：核心工作区，展示聚合情报。
◦选题详情抽屉：点击情报查看深度分析（无多余跳转）。
◦配置中心（Settings）：管理人设、数据源、Prompt（修改实时生效）。
4.2 数据采集与源管理模块
基于 FastAPI 异步架构，高效抓取多数据源：
a.代码托管类：GitHub Trending（配置编程语言、统计周期）。
b.视频竞对类：B 站指定 UID 监控（抓取播放量 > N 的近期视频）。
c.榜单聚合类：知乎热榜（技术区）（配置目标榜单）。
d.垂类周刊类：指定 RSS 订阅源 / 周刊 URL。
4.3 智能筛选与推荐核心模块
•AI 解析与筛选：加载人设配置，剔除噪音数据，输出高匹配选题。
•选题详情页：展示标题、链接、AI 推荐语、热点标签。
•飞书协同：一键推送到飞书多维表格 / 文档。
4.4 内容深度生成模块
•AI 脚本生成：基于模板生成 Markdown 格式初稿。
•AI 关键词挖掘：反向搜索竞品 Tag，按权重排序输出。
五、技术实现方案
5.1 一期技术方案（MVP 版）
5.1.1 核心技术栈（框架级）

分层	技术选型	核心优势	简化说明
后端 API	FastAPI + Python	异步高并发，接口适配性强	核心框架，支撑数据抓取、AI 调用、接口对接
数据模型 (ORM)	SQLModel	类型安全，整合数据校验与数据库定义	避免数据格式错误，简化代码
数据库	SQLite	轻量化，零配置	适配单机部署，快速落地
前端框架	Vue3 + Tailwind	开发效率高，轻量灵活	快速搭建基础后台界面
协同对接	FastAPI + 飞书 Webhook	简单直接，推送稳定	支撑飞书单向协同
5.1.2 开源轮子整合

模块	轮子名称	核心用途	适配说明
数据采集 - B 站	bilibili-api-python	抓取视频详情、UP 主动态	原生异步，契合 FastAPI 特性，免写爬虫
数据采集 - 热榜	DailyHotApi	聚合知乎、GitHub 等热搜	Docker 一键部署，FastAPI 直接调用 JSON 接口
数据采集 - RSS	RSSHub	网页转 RSS 源	配合 feedparser 库，监听各类网页更新
AI 结构化	Instructor（配合 Pydantic）	规范 LLM 输出格式	确保 AI 输出符合定义，无字段缺失
5.1.3 核心数据流向
1.用户配置：人设、数据源、Prompt 存储于 SQLite；
2.任务触发：FastAPI 定时任务或手动触发；
3.数据抓取：调用开源轮子获取多平台原始数据；
4.AI 筛选：Instructor + Pydantic 处理结构化数据；
5.结果展示：Vue3 页面渲染选题卡片、热点标签；
6.脚本生成：异步调用 AI API，前端展示进度条；
7.飞书推送：FastAPI 对接飞书 Webhook 完成数据同步。
5.2 二期技术方案（SaaS 版）
5.2.1 核心技术栈（框架级）

分层	技术选型	核心优势	阶段差异（对比一期）
后端 API	FastAPI + Python	异步高并发，接口适配性强	保持不变，复用核心框架
数据模型 (ORM)	SQLModel	类型安全，整合数据校验与数据库定义	保持不变
数据库	PostgreSQL	支持 JSONB / 向量数据，企业级高可用	替换 SQLite，适配多用户、非结构化数据
前端框架	Next.js + Shadcn/UI + Tailwind	SEO 优异，高颜值可定制	替换 Vue3，适配 SaaS 引流与商业化界面
身份认证	NextAuth.js/Clerk	一键集成多平台登录	新增，支撑多用户体系
异步任务	Celery + Redis	解耦慢任务，提升并发能力	新增，优化多用户 AI / 爬虫任务处理
缓存	Redis	热点数据缓存，秒级响应	新增，优化高并发访问速度
支付收银	微信支付 + 支付宝支付	国内主流，用户认知度高	新增，支撑商业化收费
AI 编程工具	Gemini Build + Antigravity	提升架构设计与代码生成效率	新增，降低扩展开发成本
5.2.2 开源轮子整合（新增 / 升级）

模块	轮子名称	核心用途	适配说明
身份认证	NextAuth.js/Clerk	多平台登录集成	与 Next.js 无缝衔接，简化权限配置
异步任务	Celery + Redis	处理 AI / 爬虫慢任务	解耦耗时操作，保障前端流畅性
支付收银	微信支付 SDK + 支付宝 SDK	会员订阅、费用结算	国内合规，适配用户支付习惯
其他	复用一期所有开源轮子	数据采集、AI 结构化等	保持核心能力一致性，降低迁移成本
5.2.3 核心数据流向（新增 / 优化）
1.用户配置：多用户独立配置存储于 PostgreSQL（JSONB 类型适配灵活结构）；
2.任务触发：Celery 异步任务调度（支持定时 / 手动触发）；
3.数据抓取：复用一期轮子，新增 URL 解析模块支持全网数据源；
4.AI 筛选：新增 Prompt 缓存（Redis），支持多人设并行处理；
5.结果展示：Next.js 预加载 + Redis 缓存，提升首屏速度与并发支撑；
6.脚本生成：Celery 异步调用 AI API，支持多模板自定义与可视化编辑；
7.协同 / 商业化：
◦飞书双向同步：对接飞书 API 实现数据实时同步；
◦支付回调：FastAPI 处理支付 Webhook，Redis 缓存会员权限。
（注：文档部分内容可能由 AI 生成）